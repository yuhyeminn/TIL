<br/>

### Web을 지탱하는 기술

💡 **하이퍼텍스트(hypertext)**

WWW 또는 Web이라고 불리는 기술은 인터넷 서버에 올린 문서를 네트워크 경유로 열람할 수 있도록 한 것으로 문서 형식에는 하이퍼텍스트가 이용된다.

- 하이퍼텍스트에는 문서 내에 `하이퍼링크(hyperlink)`라고 불리는 다른 문서에 대한 참조 정보가 들어 있음
- 하이퍼링크를 따라가면 여러 개의 문서를 연관 지어서 전체적으로 거대한 정보를 나타낼 수 있음
- 하이퍼텍스트를 작성하는 데는 HTML 등 전용 기술 언어가 사용됨

<br/>

💡 **URL (Uniform Resource Locator)**

Web에 존재하는 문서나 각종 파일의 위치를 표시하는 데는 URL이 사용된다. Web의 URL은 크게 3가지로 나눠 다음과 같이 구성되어 있다.

- 스킴 (scheme)
  - 사용 프로토콜을 지정함
  - `http`, `https`, `ftp`, `mailto` 등
- 호스트 (host)
  - 접속하는 컴퓨터의 도메인명이나 IP주소를 지정함
  - 호스트명 앞에는 필요에 따라 `사용자명:패스워드@` 형식으로 로그인 정보를 쓸 수 있음 (ftp 등에서 사용)
  - 호스트명 뒤에는 필요에 따라 `:포트번호` 형식으로 포트번호를 쓸 수 있으며, 생략하면 스킴의 표준 포트번호가 사용됨
- 패스 (path)
  - 서버 내의 저장 위치이며, 생략된 경우 디폴트 문서가 지정됨

<br/>

💡 **정적 콘텐츠와 동적 콘텐츠**

Web의 콘텐츠는 미리 제작해서 서버에 보존되어 있는 `정적 콘텐츠` 와 서버에서 읽기 요청을 할 때마다 프로그램이 동작해서 만들어내는 `동적 콘텐츠` 로 나눌 수 있다.

- 정적 컨텐츠
  - 항상 동일하도록 유지되면 좋은 것에 사용됨
  - ex. 웹사이트의 메인 페이지
- 동적 컨텐츠
  - 접속할 때마다 결과가 바뀔 가능성이 있는 것에 사용됨
  - ex. 키워드에 따라 검색 결과가 바뀌어 검색 엔진의 결과가 표시되는 화면

<br/>

------

<br/>

### HTTP (Hypertext Transfer Protocol)

: Web 서버와 Web 클라이언트간에 Web 정보를 주고받기 위한 프로토콜

- 클라이언트에서 요청을 보내면 서버가 응답을 되돌려주는 단순한 형태 (1:1)
- 동일한 조건이라면 어떤 요청에 대해서든 응답이 항상 동일함
- 주로 TCP와 조합해서 사용함
- 서버가 HTTP로의 통신을 받을 포트번호는 보통 80번임

<br/>

### 요청(request)과 응답(response)

💡 **HTTP 요청**

- 요청 대상, 헤더 필드, 메시지 본체로 구성되며 하고자 하는 조작을 요청 대상 **메소드**로 지정함
- 주요 메소드
  - GET - 지정한 타겟을 서버에서 가져옴
  - HEAD - 지정한 타겟에 관련된 헤더 정보를 가져옴
  - POST - 지정된 타겟에 데이터를 전달
  - PUT - 서버 내에 파일을 써넣음
  - DELETE - 서버 내의 파일을 삭제함

💡 **HTTP 응답**

- 상태값, 헤더 필드, 메시지 본체로 구성되며 처리 결과는 **상태 코드(status code)**로 표시됨
- 주요 상태 코드
  - 200 - 정상
  - 401 - 인증 필요
  - 404 - 찾을 수 없음
  - 408 - 요청 시간 초과
  - 500 - 서버 내부 오류

<br/>

------

<br/>

### HTTPS (HyperText Transfer Protocal Secure)

HTTPS는 HTTP에서의 통신을 안전하게 보호하기 위한 구조이며, 웹브라우저와 웹서버에서 인터넷 뱅킹, 신용카드 서비스, 개인정보를 등록하거나 수정하는 경우에 이 HTTPS를 사용한다.

- HTTPS의 포트 번호는 443번
- 특정 프로토콜이 정해져 있지 않고 SSL/TLS라고 불리는 프로토콜이 만들어내는 안전한 연결 방법을 사용함
- HTTP의 요청이나 응답내용은 암호화되기 때문에 누군가 도청하더라도 그 내용을 알 수 없음
- 도중에 누군가가 통신 내용을 변경하여 조작한 사항을 검사할 수 있음
- 접속하고 있는 Web 서버가 진짜인지 아닌지 여부를 검증하는 기능도 있음

<br/>

### SSL/TLS

> SSL (Secure Sockets Layer) TLS (Transport Layer Security)

- 암호화를 담당하며 HTTP와 TCP 사이에 위치함
- 대상의 특정 인증이나 암호키 교환, 정보의 암호화에 사용하는 각 알고리즘을 여러 개 중에서 선택함
- 어떤 알고리즘을 사용하는가는 통신의 초기 단계에서 서버와 클라이언트가 서로 대화하여 상호 공통으로 대응할 수 있는 것을 선택함
  - 이 것을 교섭(negotiation)이라고 함
- 가장 강한 암호와 약간 약한 암호가 있음
  - 서버는 브라우저 어느 한쪽이 약간 약한 암호에만 대응할 수 있는 경우에 약간 약한 암호를 사용해서 통신을 하게 됨

<br/>

------

<br/>

### SMTP (Simple Mail Transfer Protocol)

: 전자메일 전송에 사용되는 프로토콜

- 주로 TCP와 같이 사용되며 포트번호는 25번
- 연결하고 있는 동안 여러 번 명령과 응답을 교환함
  - 응답 코드로 결과를 표시하고, 그 뒤에 사람이 읽을 수 있는 영문자 메시지가 이어짐
- 스팸 메일 방지를 위해 ISP 네트워크 밖에 있는 메일 서버에 대해 25번 포트를 차단하면서 대신 587번 포트를 사용하게 됨
  - 587번 포트 → 서브 미션 포트
  - SMTP-AUTH가 설정되며 그 메일 서버에는 ID/암호를 갖고 있는 사람만이 메일을 전송할 수 있음

<br/>

### POP3와 IMAP4

POP3와 IMAP4는 메일함을 읽는 프로토콜이다. 전자메일은 SMTP로 수신처 메일 주소의 메일함이 있는 서버까지 전송되고 메일함 내에 보존된다.  보존된 메일을 읽는 데는 POP3나 IMAP4를 사용한다.

<br/>

💡 **POP3 (Post Office Protocol version 3)**

- **메일함의 메일을 PC에 넣고 PC 내에서 정리나 열람을 하는 형태**
- 서버상의 메일함은 메일을 읽으면 비워짐
- 메일은 전부 PC로 들어가므로 네트워크 연결을 끊더라도 메일을 자유롭게 읽을 수 있음
- TCP와 조합해서 사용하며 포트번호는 110번
- SSL/TLS와 병용하여 암호화하는 POP3S도 있음 (995번)

<br/>

💡 **IMAP4 (Internet Message Access Protocol version 4)**

- **메일을 서버상의 메일함에 둔 상태에서 정리나 열람을 하는 형태**
- 메일을 읽으려면 반드시 네트워크에 연결해야 함
- 서버에 접속할 수만 있다면 어떤 단말에서도 동일한 메일을 읽을 수 있음
- TCP와 조합해서 사용하며 포트번호는 143번
- SSL/TLS와 병용하여 암호화하는 IMAP4S도 있음 (993번)

<br/>

------

<br/>

### FTP (File Transfer Protocol)

: 파일을 전송하기 위한 프로토콜

- 일반적으로 TCP와 같이 사용함
  - 전송 제어는 21번 포트
  - 전송 데이터를 위해서는 20번 포트
- 동시에 두 개의 접속방식 사용함
  1. 전송을 제어하기 위한 접속
  2. 실제 데이터를 보내기 위한 접속
- 제어하기 위한 접속은 독립되어 있어 전송 도중에 중지 등의 컨트롤을 하기 쉬워짐

<br/>

💡 **액티브 모드(active mode)와 패시브 모드(passive mode)**

- 액티브 모드(기본 모드)
  - 먼저 제어용으로 연결하고 각종 명령어를 보냄
  - 그 후 데이터 전송용 연결을 서버에서 만들려고 하지만, 외부에서의 접속은 보통 허용되지 않음
- 패시브모드
  - 먼저 제어용으로 연결하고 각종 명령어를 보냄
  - 그 후 클라이언트에서 데이터 전송용 연결을 함
  - 내부에서의 접속이므로 보통 허용됨

<br/>

💡 **암호화에 대응한 FTPS와 SFTP**

- FTPS
  - HTTPS와 SMTPS 등과 같은 부류로 FTP에 SSL/TLS를 병용해서 안전한 통신을 구현함
- SFTP
  - SSH의 구조를 사용해서 안전한 파일 전송을 구현함

<br/>

------

<br/>

### SSH (Secure Shell Protocol)

SSH는 서버나 네트워크 기기에 접속해서 대상을 CUI로 조작하는 데 사용하는 프로토콜 및 프로그램의 명칭이다.

- TCP와 같이 사용하며 포트는 22번을 사용함
- 교환 시 암호화되어 있으므로 안전하게 대상을 조작할 수 있음
- SSH를 사용하면 도청에 따른 정보 누출을 방지할 수 있음

<br/>

💡 **공개 키 인증을 사용하면 보안이 더욱 강화된다.**

SSH는 조작 대상에 대한 로그인 방법으로 ID와 암호를 입력하는 방법 외에 보다 안전한 공개 키 인증 방법을 지원하고 있다.

- 미리 자신의 인증 정보를 포함한 공개 키와 비밀 키를 만들어두고, 로그인한 대상에게 공개키를 넣어둠
- 로그인하는 데 반드시 비밀 키가 필요하므로 기계적인 방식으로 맞춰보고 돌파할 우려가 없음
- 비밀 키에 **패스 프레이즈(passphrase)**를 설정해두면 비밀 키를 갖고있다는 것은 물론 패스 프레이즈를 알고 있음을 만족해야 로그인할 수 있어서 보다 안전함
  - 패스 프레이즈 - 일반적으로 디지털 서명이나 암호화, 복호화에 사용되는 패스워드보다 긴 문자열로 된 비밀 번호

<br/>

------

<br/>

### DNS (Domain Name System)

도메인명에서 IP주소를 찾는 것(정방향), 혹은 IP주소에서 도메인명을 찾는 것(역방향)을 `이름 분석(name resolution` 이라고 한다. 인터넷에서 이름 분석의 기능은 DNS가 제공하고 있다.

- 질의나 응답에 UDP의 포트 53번을 사용함
- DNS서버끼리 정보를 복제하는 영역 전송에는 TCP의 53번을 사용함
- 도메인명의 구조에 따라 몇 개로 분산한 서버가 각각 협조해서 이름 분석 처리를 함
  - 분산 처리

<br/>

💡 **이름 분석 구조**

통신 대상이 도메인명으로 지정되면 먼저 DNS에서 이름 분석을 요청하고, 대응하는 IP 주소를 받은 후 그 IP 주소에 대해 통신을 시작한다.

1. PC나 서버의 프로그램이 이름 분석을 요구하면, 그 PC나 서버에 탑재되어 있는 `스터브 리졸버(stub resolver, DNS 질의 프로그램)`가 캐시 서버로 이름 분석 요청을 보냄
2. 캐시 서버는 이어서 콘텐츠 서버로 접속하여 이름 분석을 하고, 그 결과를 스터브 리졸버로 보내면 다시 프로그램으로 되돌려 보냄

- 질의의 각 단계에서 취득한 대응 정보는 캐시에 보존해두고 재사용함

<br/>

------

<br/>

### NTP (Network Time Protocol)

NTP는 네트워크에 연결된 컴퓨터의 시간을 맞추기 위한 프로토콜이다.

- UDP를 사용하고 포트 번호는 123번을 사용함

- 여러 대의 컴퓨터를 네트워크에 연결해서 같이 사용하는 경우 컴퓨터의 시간을 맞출 필요가 있음

- NTP 서버는 **UTC(협정 세계시)**로 나타내는 시간 정보를 전송함

  - 전송할 때 통신에 걸리는 시간만큼 정확히 예상하여 보정을 함

- NTP 서버는 소수라 부하를 대비하기 위해 

  계층적인 구조

  를 취함

  - Stratum 0 - 정확한 원자시계나 GPS 등 시간 원천
  - Stratum 1 - 시간 원천에 직접 연결된 서버
  - Stratum 2나 Stratum3 서버를 준비하여 다수의 컴퓨터에 시간 정보를 전송함

<br/>

------

<br/>

### HTTP 프록시

HTTP를 전하는 프록시라는 의미로, Web 접속에 사용하는 프록시를 HTTP 프록시라고 부른다.

HTTP 프록시를 사용하면 PC는 프록시와만 통신하고, 인터넷 Web 서버와는 프록시가 통신한다.

> - 프록시(proxy) : 중계용 컴퓨터로, 사이에 두고 통신 내용을 전하는 컴퓨터
> - 투과 프록시 : 각 PC에 어떤 설정을 따로 설정하지 않더라도 인터넷에 접속할 때 강제로 프록시를 경유함

<br/>

💡 **HTTP 프록시의 주요 기능**

- 콘텐츠의 캐시
  - Web 서버에서의 응답을 보존해두고, 동일한 페이지로 접근하면 보존하고 있는 콘텐츠를 반환
- 바이러스 검출이나 부정 침입 방지
- 유해 사이트의 차단

<br/>

------

<br/>

### 서비스 연계와 REST API

네트워크를 경유하여 호출해서 사용하는 서비스를 제공하는 사업자나 서비스를 `ASP(Application Service Provider)` 라고 한다. 최근엔 클라우드 기술의 한 형태로 생각해서 SaaS나 PaaS라고 부르기도 한다.

<br/>

💡 **HTTP를 사용하는 REST API**

HTTP를 사용해서 네트워크 경유로 기능을 호출하거나 XML이나 JSON으로 결과를 되돌려주는 형태를 일반적으로 REST API라고 한다.

- ASP나 SaaS/PaaS 등의 기능을 네트워크를 경유해서 호출할 때 가장 많이 사용되는 것이 HTTP
- HTTP의 요청과 응답 방식에 따라 필요한 파라미터를 더해 요청을 하고, 결과를 응답으로 되돌려주며 응답 형식에는 XML이나 JSON 등이 사용됨
- 상태를 갖지 않는 프로토콜
- 정보를 조작할 수단이 충분히 정의되어 있음
- 리소스는 범용적인 구문으로 식별할 수 있음
- 정보 내에 하이퍼미디어가 포함되어 있음